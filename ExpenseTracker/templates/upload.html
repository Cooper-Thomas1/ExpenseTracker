{% extends "base.html" %}
{% block content %}
<div class="container">
  <!-- Manual Input Form -->
  <h3>Manually Add an Expense</h3>
  <form method="POST" action="{{ url_for('upload') }}">
    {{ manual_form.hidden_tag() }}
    <div class="mb-3">
      <label for="date">Date</label>
      {{ manual_form.date(class="form-control") }}
    </div>
    <div class="mb-3">
      <label for="category">Category</label>
      {{ manual_form.category(class="form-control") }}
    </div>
    <div class="mb-3">
      <label for="amount">Amount</label>
      {{ manual_form.amount(class="form-control") }}
    </div>
    <div class="mb-3">
      <label for="description">Description</label>
      {{ manual_form.description(class="form-control") }}
    </div>
    <button type="submit" class="btn btn-primary" name="manual_submit">Add Expense</button>
  </form>

  <!-- File Upload Form -->
  <hr>
  <h3>Upload an Expense File</h3>
  <form method="POST" action="{{ url_for('upload') }}" enctype="multipart/form-data">
    {{ file_form.hidden_tag() }}
    <div class="mb-3">
      <label for="file">Choose a File</label>
      {{ file_form.file(class="form-control") }}
    </div>
    <button type="submit" class="btn btn-success" name="file_submit">Upload File</button>
  </form>
  <div class="card mt-3">
    <div class="card-header">
        <a class="btn btn-link text-dark" data-bs-toggle="collapse" href="#uploadGuidelines" role="button" aria-expanded="false" aria-controls="uploadGuidelines">
            Show Upload Guidelines
        </a>
    </div>
    <div class="collapse" id="uploadGuidelines">
        <div class="card-body">
            <h5>Upload Guidelines</h5>
            <ul>
                <li>Accepted formats: <strong>.csv</strong></li>
                <li>Required fields: <code>date</code>, <code>amount</code></li>
                <li>Optional fields: <code>description</code>, <code>category</code></li>
                <li>Flexible headers supported from most Australian banks</li>
                <li>Date formats like <code>DD/MM/YYYY</code> or <code>YYYY-MM-DD</code> are accepted</li>
            </ul>
        </div>
    </div>
</div>
</div>
{% endblock %}
